# 괄호 회전하기

###### 문제 설명

다음 규칙을 지키는 문자열을 올바른 괄호 문자열이라고 정의합니다.

- `()`, `[]`, `{}` 는 모두 올바른 괄호 문자열입니다.
- 만약 `A`가 올바른 괄호 문자열이라면, `(A)`, `[A]`, `{A}` 도 올바른 괄호 문자열입니다. 예를 들어, `[]` 가 올바른 괄호 문자열이므로, `([])` 도 올바른 괄호 문자열입니다.
- 만약 `A`, `B`가 올바른 괄호 문자열이라면, `AB` 도 올바른 괄호 문자열입니다. 예를 들어, `{}` 와 `([])` 가 올바른 괄호 문자열이므로, `{}([])` 도 올바른 괄호 문자열입니다.

대괄호, 중괄호, 그리고 소괄호로 이루어진 문자열 `s`가 매개변수로 주어집니다. 이 `s`를 왼쪽으로 x (*0 ≤ x < (`s`의 길이)*) 칸만큼 회전시켰을 때 `s`가 올바른 괄호 문자열이 되게 하는 x의 개수를 return 하도록 solution 함수를 완성해주세요.

------

##### 제한사항

- s의 길이는 1 이상 1,000 이하입니다.

------

##### 입출력 예

| s          | result |
| ---------- | ------ |
| `"[](){}"` | 3      |
| `"}]()[{"` | 2      |
| `"[)(]"`   | 0      |
| `"}}}"`    | 0      |

------

##### 입출력 예 설명

**입출력 예 #1**

- 다음 표는 `"[](){}"` 를 회전시킨 모습을 나타낸 것입니다.

| x    | s를 왼쪽으로 x칸만큼 회전 | 올바른 괄호 문자열? |
| ---- | ------------------------- | ------------------- |
| 0    | `"[](){}"`                | O                   |
| 1    | `"](){}["`                | X                   |
| 2    | `"(){}[]"`                | O                   |
| 3    | `"){}[]("`                | X                   |
| 4    | `"{}[]()"`                | O                   |
| 5    | `"}[](){"`                | X                   |

- 올바른 괄호 문자열이 되는 x가 3개이므로, 3을 return 해야 합니다.

**입출력 예 #2**

- 다음 표는 `"}]()[{"` 를 회전시킨 모습을 나타낸 것입니다.

| x    | s를 왼쪽으로 x칸만큼 회전 | 올바른 괄호 문자열? |
| ---- | ------------------------- | ------------------- |
| 0    | `"}]()[{"`                | X                   |
| 1    | `"]()[{}"`                | X                   |
| 2    | `"()[{}]"`                | O                   |
| 3    | `")[{}]("`                | X                   |
| 4    | `"[{}]()"`                | O                   |
| 5    | `"{}]()["`                | X                   |

- 올바른 괄호 문자열이 되는 x가 2개이므로, 2를 return 해야 합니다.

**입출력 예 #3**

- s를 어떻게 회전하더라도 올바른 괄호 문자열을 만들 수 없으므로, 0을 return 해야 합니다.

**입출력 예 #4**

- s를 어떻게 회전하더라도 올바른 괄호 문자열을 만들 수 없으므로, 0을 return 해야 합니다.



## 접근법

1. S의 길이를 구해서 그 길이만큼 for문을 시행
2. S길이만큼 deque를 이용해서 `popleft()`  ->  `append()` 수행 (회전)
3. 회전할 때마다 `check_bracket()` 함수를 수행하여 `True`인 경우에만 `answer+=1`
   - `check_bracket()`은 괄호가 올바른지 체크하는 함수
4. `check_bracket()` 구현은 다음과 같다.
   - `stack`에 넣으면서 닫는 괄호들을 만났을 때 직전 여는 괄호와 동일한지 체크



## 코드

```python
from collections import deque
def check_bracket(rotated_s):
    st = []
    bracket = {"]":"[","}":"{",")":"("}
    for b in rotated_s:
        # inner bracket이면 st에 추가
        if b in bracket.values():
            st.append(b)
            continue
        # out bracket이면 st top의 inner brakcet모양과 같은지 확인
        if st: # st에 아무것도 없는데 out bracket이 나오기 때문에 False
            top = st.pop()
        else: 
            return False
        
        if top != bracket[b]:
            return False    
        continue
        
    if not st: # st에 비어있는지 확인
        return True
    else:
        return False
    
def solution(s):
    answer = 0
    s_len = len(s)
    q = deque([x for x in s])
    for i in range(s_len):
        #Rotate
        if i == 0:
            pass
        elif i != 0:
            tmp = q.popleft()
            q.append(tmp)
            
        if check_bracket(q):
            answer+=1
            
    return answer
```

